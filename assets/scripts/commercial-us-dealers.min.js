function validateEmail(e){return!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}function clearFilterList(){$(".filter-search").prop("checked",!1),$(".ct-partner-list #dealer-list .card").removeClass("d-none")}function filteredSelect(){$(".ct-partner-list #dealer-list .card").addClass("d-none");for(var e=$(".filter-search"),l=!1,a=0,t=0;t<e.length;t++)if($(e[t]).is(":checked")){l=!0;var r=$(e[t]).attr("id");$("."+r).removeClass("d-none"),a+=$("."+r).removeClass("d-none").length}$("#total-dealers").text(a),l||($(".ct-partner-list #dealer-list .card").removeClass("d-none"),$("#total-dealers").text($(".ct-partner-list #dealer-list .card").removeClass("d-none").length))}$(document).ready(function(){function l(e){showLoader("#dealer-list"),$.post($("input#dearlSearchUrl").val(),{txtZipCode:e}).done(function(e){hideLoader("#dealer-list"),$(".ct-partner-list").remove(),$("main").append(e),$(window).trigger("resize")}).fail(function(e,l,a){console.log(a)})}if($(document).on("keypress","#txtDealerSearch",function(e){13===e.which&&(e.preventDefault(),$("#txtDealerSearch").val()&&l($("#txtDealerSearch").val()))}),$(document).on("click","#btnDealerSearch",function(){var e=$("#txtDealerSearch").val();e?l(e):console.log("No Data")}),$(".ct-partner-list").length){var e=window.location.search.split("?")[1];if(e){var a=$.trim(e).split("=")[1].split(",");if(a.length){for(var t=0;t<a.length;t++)"all-dealers"==a[t]?$(".filter-search").prop("checked",!0):$("#"+a[t]).prop("checked",!0);filteredSelect()}}$("body").on("click",".filter-search",function(){"all-dealers"==$(this).val()&&$(this).is(":checked")?($(".filter-search").prop("checked",!0),filteredSelect()):"all-dealers"==$(this).val()&&0==$(this).is(":checked")?clearFilterList():filteredSelect()})}$("#emailInfo").on("show.bs.modal",function(e){$(".email-dealer-info a").removeClass("selected"),$(e.relatedTarget).addClass("selected"),$(".modal-footer").show(),$(".modal-body").show(),0<$(".email-success-body").length&&$(".email-success-body").remove()}),$("#emailInfoSubmit").on("click",function(){var e=$(".email-dealer-info .selected"),l=e.data("dealer-name"),a=window.location.protocol+"//"+window.location.hostname+$("#localizationPath").val()+"/"+e.data("dealer-url"),t=$("#Email");console.log(l),console.log(a),0==t.val().length?$(".email-error").html(t.data("req-message")):validateEmail(t.val())?($(".email-error").html(""),$.post($("input#emailSendUrl").val(),{dealerName:l,dealerURL:a,ToEmailAddress:t.val()}).done(function(e){"Success"==e?($(".modal-content").append('<div class="email-success-body"><h3>'+t.data("email-success-heading")+"</h3><p>"+t.data("email-success-message")+"</p></div>"),$(".modal-footer").hide(),$(".modal-body").hide()):$(".email-error").html(t.data("email-failure"))}).fail(function(e,l,a){$(".email-error").html(t.data("email-failure")),console.log(a)})):$(".email-error").html(t.data("email-validation"))})}),jQuery(document).ready(function(e){function l(){768<=e(window).width()?(e(".ct-partner-list #collapse-filter").length&&e(".ct-partner-list #collapse-filter").addClass("show"),e(".ct-partner-list .btn-accordion").length&&e(".ct-partner-list .btn-accordion").removeClass("collapsed")):(e(".ct-partner-list #collapse-filter").length&&e(".ct-partner-list #collapse-filter").removeClass("show"),e(".ct-partner-list .btn-accordion").length&&e(".ct-partner-list .btn-accordion").addClass("collapsed"))}e(window).resize(function(){l()}),l()});