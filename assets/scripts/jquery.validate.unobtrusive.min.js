!function(s){var a,e=s.validator,n="unobtrusiveValidation";function d(a,e,t){a.rules[e]=t,a.message&&(a.messages[e]=a.message)}function o(a){return a.substr(0,a.lastIndexOf(".")+1)}function l(a,e){return 0===a.indexOf("*.")&&(a=a.replace("*.",e)),a}function r(a,e){var t=s(this).find("[data-valmsg-for='"+e[0].name+"']"),n=!1!==s.parseJSON(t.attr("data-valmsg-replace"));t.removeClass("field-validation-valid").addClass("field-validation-error"),a.data("unobtrusiveContainer",t),n?(t.empty(),a.removeClass("input-validation-error").appendTo(t)):a.hide()}function i(a,e){var t=s(this).find("[data-valmsg-summary=true]"),n=t.find("ul");n&&n.length&&e.errorList.length&&(n.empty(),t.addClass("validation-summary-errors").removeClass("validation-summary-valid"),s.each(e.errorList,function(){s("<li />").html(this.message).appendTo(n)}))}function u(a){var e=a.data("unobtrusiveContainer"),t=s.parseJSON(e.attr("data-valmsg-replace"));e&&(e.addClass("field-validation-valid").removeClass("field-validation-error"),a.removeData("unobtrusiveContainer"),t&&e.empty())}function t(a){var e=s(a),t=e.data(n);return t||(t={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:s.proxy(r,a),invalidHandler:s.proxy(i,a),messages:{},rules:{},success:s.proxy(u,a)},attachValidation:function(){e.validate(this.options)},validate:function(){return e.validate(),e.valid()}},e.data(n,t)),t}e.unobtrusive={adapters:[],parseElement:function(n,a){var e,r,i,d=s(n),o=d.parents("form")[0];o&&((e=t(o)).options.rules[n.name]=r={},e.options.messages[n.name]=i={},s.each(this.adapters,function(){var a="data-val-"+this.name,e=d.attr(a),t={};void 0!==e&&(a+="-",s.each(this.params,function(){t[this]=d.attr(a+this)}),this.adapt({element:n,form:o,message:e,params:t,rules:r,messages:i}))}),jQuery.extend(r,{__dummy__:!0}),a||e.attachValidation())},parse:function(a){s(a).find(":input[data-val=true]").each(function(){e.unobtrusive.parseElement(this,!0)}),s("form").each(function(){var a=t(this);a&&a.attachValidation()})}},(a=e.unobtrusive.adapters).add=function(a,e,t){return t||(t=e,e=[]),this.push({name:a,params:e,adapt:t}),this},a.addBool=function(e,t){return this.add(e,function(a){d(a,t||e,!0)})},a.addMinMax=function(a,n,r,i,e,t){return this.add(a,[e||"min",t||"max"],function(a){var e=a.params.min,t=a.params.max;e&&t?d(a,i,[e,t]):e?d(a,n,e):t&&d(a,r,t)})},a.addSingleVal=function(e,t,n){return this.add(e,[t||"val"],function(a){d(a,n||e,a.params[t])})},e.addMethod("__dummy__",function(a,e,t){return!0}),e.addMethod("regex",function(a,e,t){var n;return!!this.optional(e)||(n=new RegExp(t).exec(a))&&0===n.index&&n[0].length===a.length}),a.addSingleVal("accept","exts").addSingleVal("regex","pattern"),a.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),a.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),a.add("equalto",["other"],function(a){var e=o(a.element.name),t=l(a.params.other,e);d(a,"equalTo",s(a.form).find(":input[name="+t+"]")[0])}),a.add("required",function(a){"INPUT"===a.element.tagName.toUpperCase()&&"CHECKBOX"===a.element.type.toUpperCase()||d(a,"required",!0)}),a.add("remote",["url","type","additionalfields"],function(n){var r={url:n.params.url,type:n.params.type||"GET",data:{}},i=o(n.element.name);s.each(function(a){return a.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}(n.params.additionalfields||n.element.name),function(a,e){var t=l(e,i);r.data[t]=function(){return s(n.form).find(":input[name='"+t+"']").val()}}),d(n,"remote",r)}),s(function(){e.unobtrusive.parse(document)})}(jQuery);